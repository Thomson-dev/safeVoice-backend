# SafeVoice Case System - Visual Architecture

## System Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       SAFEVOICE CASE SYSTEM                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                           STUDENT JOURNEY
                           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. REGISTRATION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /auth/register  â”‚
   â”‚ {password, email?}   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Generate anonymousId     â”‚
   â”‚ ANON-00001              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student created          â”‚
   â”‚ No real name required    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2. SUBMIT INCIDENT REPORT
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /reports                    â”‚
   â”‚ {incidentType, description, ...} â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Report created in DB       â”‚
   â”‚ Link to studentId (hidden) â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼ AUTO-TRIGGERED
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Case created with:         â”‚
   â”‚ status: 'new'              â”‚
   â”‚ caseId: CASE-A1B2C3D4     â”‚
   â”‚ awaiting counselor         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Response to student:       â”‚
   â”‚ â”œâ”€ trackingCode           â”‚
   â”‚ â”œâ”€ reportId               â”‚
   â”‚ â”œâ”€ caseId                 â”‚
   â”‚ â””â”€ anonymousId            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


3. ANONYMOUS STATUS CHECK
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /reports/:trackingCode   â”‚
   â”‚ (No authentication needed)   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Public Response:             â”‚
   â”‚ â”œâ”€ status                    â”‚
   â”‚ â”œâ”€ anonymousId               â”‚
   â”‚ â”œâ”€ createdAt                 â”‚
   â”‚ â””â”€ updatedAt                 â”‚
   â”‚ (No counselor identity)      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


4. RECEIVE MESSAGES
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /student/messages    â”‚
   â”‚ (Authenticated)          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Messages from counselor  â”‚
   â”‚ (Counselor identity      â”‚
   â”‚  still hidden)           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




                         ADMIN JOURNEY
                         â•â•â•â•â•â•â•â•â•â•â•â•â•

1. REVIEW QUEUE
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /cases/unassigned      â”‚
   â”‚ (Admin only)               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ See waiting cases:         â”‚
   â”‚ â”œâ”€ CASE-A1B2C3D4 (new)    â”‚
   â”‚ â”œâ”€ CASE-X9Y8Z7W6 (new)    â”‚
   â”‚ â””â”€ riskLevel, createdAt    â”‚
   â”‚ (No student identity)      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2. ASSIGN COUNSELOR
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /cases/:caseId/           â”‚
   â”‚ assign-counselor               â”‚
   â”‚ {counselorId: '...'}           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Update Case:               â”‚
   â”‚ â”œâ”€ counselorId = assigned  â”‚
   â”‚ â”œâ”€ status: new â†’ active   â”‚
   â”‚ â””â”€ assignedAt = now()      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


3. VERIFY COUNSELORS
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /admin/counselors/     â”‚
   â”‚ pending                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ See unverified counselors  â”‚
   â”‚ Ready for approval         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PATCH /admin/counselors/   â”‚
   â”‚ :id/verify                 â”‚
   â”‚ Set isVerified = true      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




                       COUNSELOR JOURNEY
                       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. VIEW DASHBOARD
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /cases/my-cases      â”‚
   â”‚ (Counselor login token)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ See assigned cases:      â”‚
   â”‚ â”œâ”€ CASE-A1B2C3D4 (active)â”‚
   â”‚ â”œâ”€ CASE-P2Q3R4S5 (active)â”‚
   â”‚ â””â”€ riskLevel, status     â”‚
   â”‚ (Only their own cases)   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2. OPEN CASE DETAILS
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /cases/:caseId       â”‚
   â”‚ (Pick case to focus on)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Full Case View:              â”‚
   â”‚ â”œâ”€ Report:                   â”‚
   â”‚ â”‚  â”œâ”€ anonymousId            â”‚
   â”‚ â”‚  â”œâ”€ incidentType           â”‚
   â”‚ â”‚  â”œâ”€ description            â”‚
   â”‚ â”‚  â””â”€ âŒ studentId (hidden)  â”‚
   â”‚ â”œâ”€ Messages:                 â”‚
   â”‚ â”‚  â”œâ”€ Student's first messageâ”‚
   â”‚ â”‚  â”œâ”€ Counselor's response   â”‚
   â”‚ â”‚  â””â”€ Student's reply        â”‚
   â”‚ â”œâ”€ Current status            â”‚
   â”‚ â””â”€ Risk level                â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


3. ASSESS RISK
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PATCH /cases/:caseId/        â”‚
   â”‚ risk-level                   â”‚
   â”‚ {riskLevel: 'high', notes}   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Case updated:                â”‚
   â”‚ â”œâ”€ riskLevel = 'high'       â”‚
   â”‚ â”œâ”€ notes stored              â”‚
   â”‚ â””â”€ updatedAt = now()         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


4. SEND MESSAGE TO STUDENT
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /student/messages       â”‚
   â”‚ {content: '...'}             â”‚
   â”‚ (Student can respond)        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Message created:             â”‚
   â”‚ â”œâ”€ linked to reportId        â”‚
   â”‚ â”œâ”€ fromCounselor = true      â”‚
   â”‚ â”œâ”€ readAt = null             â”‚
   â”‚ â””â”€ Student notified          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


5. UPDATE CASE STATUS
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PATCH /cases/:caseId/status  â”‚
   â”‚ {status: 'escalated'}        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Status progression:          â”‚
   â”‚ new (initial)                â”‚
   â”‚   â†“                          â”‚
   â”‚ active (working)             â”‚
   â”‚   â†“                          â”‚
   â”‚ escalated (needs help)       â”‚
   â”‚   â†“                          â”‚
   â”‚ closed (resolved)            â”‚
   â”‚ (timestamps recorded)        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




                        DATA PRIVACY MATRIX
                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Information          â”‚ Student  â”‚ Counselor â”‚ Admin  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ anonymousId          â”‚    âœ…    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Real Name            â”‚    âœ…    â”‚     âŒ    â”‚   âœ…   â”‚
â”‚ Email                â”‚    âœ…    â”‚     âŒ    â”‚   âœ…   â”‚
â”‚ Student userId       â”‚    âŒ    â”‚     âŒ    â”‚   âœ…   â”‚
â”‚ Counselor Name       â”‚    âŒ    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Counselor Id         â”‚    âŒ    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Incident Details     â”‚    âœ…    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Case Status          â”‚    âœ…    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Risk Assessment      â”‚    âŒ    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Internal Notes       â”‚    âŒ    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Message Content      â”‚    âœ…    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Message Sender       â”‚    ğŸ”’    â”‚     ğŸ”’    â”‚   âœ…   â”‚
â”‚ Case History         â”‚    âœ…    â”‚     âœ…    â”‚   âœ…   â”‚
â”‚ Workload Distributionâ”‚    âŒ    â”‚     âŒ    â”‚   âœ…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend: âœ… = Visible | âŒ = Hidden | ğŸ”’ = Anonymized




                     CASE STATUS WORKFLOW
                     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CREATED    â”‚
                    â”‚ status:new   â”‚
                    â”‚ (No counselor)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                             â”‚
                   (Admin assigns counselor)
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ASSIGNED   â”‚
                    â”‚ status:activeâ”‚
                    â”‚(Counselor now sees it)
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”˜
                          â”‚    â”‚
                          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ (Routine     â”‚ (Critical risk
                          â”‚  updates)    â”‚  assessment)
                          â”‚              â”‚
                          â–¼              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  RESOLVED    â”‚  â”‚ ESCALATED    â”‚
                    â”‚status:closed â”‚  â”‚ status:esc.  â”‚
                    â”‚(Case done)   â”‚  â”‚ (Admin help) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                    (After escalation
                                    review)
                                               â”‚
                                               â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚  RESOLVED    â”‚
                                    â”‚status:closed â”‚
                                    â”‚(Case done)   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




                      RISK LEVEL SCALE
                      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Level      â”‚ Severity     â”‚ Counselor Action        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŸ¢ LOW     â”‚ Monitor only â”‚ Regular check-ins       â”‚
â”‚            â”‚              â”‚ No immediate action     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŸ¡ MEDIUM  â”‚ Needs care   â”‚ Weekly follow-ups       â”‚
â”‚            â”‚              â”‚ Resource sharing        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ HIGH    â”‚ Urgent       â”‚ Twice-weekly contact    â”‚
â”‚            â”‚              â”‚ Consider escalation     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ CRITICALâ”‚ Immediate    â”‚ Daily contact           â”‚
â”‚            â”‚              â”‚ Escalate to authorities â”‚
â”‚            â”‚              â”‚ Possible police report  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




                    TECHNOLOGY STACK
                    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Express.js + TypeScript       â”‚
â”‚   REST API Framework            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MongoDB + Mongoose ODM        â”‚
â”‚   Case | Report | Student | ... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   JWT Authentication            â”‚
â”‚   bcryptjs Password Hashing     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                  FILE STRUCTURE
                  â•â•â•â•â•â•â•â•â•â•â•â•â•â•

src/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ caseDb.ts ........................ Case CRUD
â”‚   â”œâ”€â”€ reportDb.ts ...................... Report CRUD
â”‚   â”œâ”€â”€ studentDb.ts ..................... Student auth
â”‚   â”œâ”€â”€ messageDb.ts ..................... Messages
â”‚   â”œâ”€â”€ contactDb.ts ..................... Contacts
â”‚   â”œâ”€â”€ resourceDb.ts .................... Resources
â”‚   â””â”€â”€ schemas/
â”‚       â”œâ”€â”€ CaseSchema.ts ................ Case schema
â”‚       â”œâ”€â”€ ReportSchema.ts .............. Report schema
â”‚       â”œâ”€â”€ MessageSchema.ts ............. Message schema
â”‚       â”œâ”€â”€ StudentSchema.ts ............. Student schema
â”‚       â”œâ”€â”€ CounselorSchema.ts ........... Counselor schema
â”‚       â”œâ”€â”€ TrustedContactSchema.ts ...... Contact schema
â”‚       â””â”€â”€ ResourceSchema.ts ............ Resource schema
â”‚
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ caseController.ts ............... Case endpoints
â”‚   â”œâ”€â”€ reportController.ts ............. Report endpoints
â”‚   â”œâ”€â”€ authController.ts ............... Auth endpoints
â”‚   â”œâ”€â”€ messageController.ts ............ Message endpoints
â”‚   â”œâ”€â”€ counselorController.ts .......... Counselor endpoints
â”‚   â”œâ”€â”€ adminController.ts .............. Admin endpoints
â”‚   â””â”€â”€ resourceController.ts ........... Resource endpoints
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ caseRoutes.ts ................... Case routes
â”‚   â”œâ”€â”€ reportRoutes.ts ................. Report routes
â”‚   â”œâ”€â”€ authRoutes.ts ................... Auth routes
â”‚   â”œâ”€â”€ studentRoutes.ts ................ Student routes
â”‚   â”œâ”€â”€ adminRoutes.ts .................. Admin routes
â”‚   â”œâ”€â”€ publicRoutes.ts ................. Public routes
â”‚   â””â”€â”€ resourceRoutes.ts ............... Resource routes
â”‚
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.ts .......................... JWT, roles, auth
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.ts ...................... MongoDB config
â”‚
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts ......................... TypeScript types
â”‚
â””â”€â”€ index.ts ........................... Main app entry


                    ENDPOINT COUNT BY ROLE
                    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Student:     7 endpoints (register, login, report, messages)
Counselor:   6 endpoints (dashboard, cases, messages)
Admin:       7 endpoints (cases, counselor verification)
Public:      1 endpoint (anonymous status check)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:      21 API endpoints


That's the complete SafeVoice Case Management System! ğŸ‰
